"""
Auto Generated test
You may need to change some parts
"""
from rest_framework.test import APITestCase
from django_seed import Seed

from {{app_name}}.models import *

seeder = Seed.seeder()

class {{app_name.capitalize()}}ModelTest(APITestCase):
    """
    {{app_name}} Model Test
    Auto Generated
    """
    def setUp(self) -> None:
        pass
    {% for model in models %}
    {% if not model.has_one_to_one() %}
    def test_{{model.name.lower()}}_model(self):
        seeder.add_entity({{model.name}}, 1)
        seeder.execute()
        self.assertTrue({{model.name}}.objects.exists())
    {% endif %}
    {% endfor %}
    {% for signal in signals %}
    def test_{{signal.model_a.lower()}}_model_signal(self):
        seeder.add_entity({{signal.model_b}}, 1)
        seeder.execute()
        self.assertTrue({{signal.model_b}}.objects.exists())
        self.assertTrue({{signal.model_a}}.objects.exists())
        first_object = {{signal.model_b}}.objects.first()
        second_object = {{signal.model_a}}.objects.first()
        self.assertEqual(second_object.{{signal.field}}, first_object)
    {%endfor%}
